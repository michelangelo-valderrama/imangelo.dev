<!DOCTYPE html><html lang="es"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.16.16"><meta http-equiv="X-UA-Compatible" content="IE=7"><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"><link rel="shortcut icon" href="favicon.svg" type="image/x-icon"><link rel="canonical" href="https://imangelo.dev/i18n-astro/"><meta name="robots" content="index, follow"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="RSS Feed de imangelo.dev" href="/rss.xml"><title>Implementando i18n en Astro | Michelangelo Valderrama</title><meta name="description" content="Pequeña guía de cómo implementar i18n en Astro para tener páginas en múltiples idiomas."> <meta property="twitter:title" content="Implementando i18n en Astro | Michelangelo Valderrama"><meta property="twitter:description" content="Pequeña guía de cómo implementar i18n en Astro para tener páginas en múltiples idiomas."><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@imangelo84"><meta property="twitter:creator" content="@imangelo84"><meta property="twitter:image" content="https://localhost:4321/banner.png"><meta property="twitter:image:alt" content="Michelangelo Valderrama"> <meta property="og:title" content="Implementando i18n en Astro | Michelangelo Valderrama"><meta property="og:type" content="website"><meta property="og:url" content="https://imangelo.dev/i18n-astro/"><meta property="og:locale" content="es_ES"><meta property="og:description" content="Pequeña guía de cómo implementar i18n en Astro para tener páginas en múltiples idiomas."><meta property="og:site_name" content="Michelangelo Valderrama"><meta property="og:image" content="https://localhost:4321/banner.png"><meta property="og:image:alt" content="Michelangelo Valderrama"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="675"> <meta property="article:publisher" content="https://imangelo.dev/"> <meta property="article:author" content="Michelangelo Valderrama Vivanco"> <meta property="article:tag" content="i18n"><meta property="article:tag" content="astro"> <meta property="article:published_time" content="Sat Jan 06 2024 01:00:00 GMT+0100 (Central European Standard Time)"> <meta property="article:modified_time" content="Sat Jan 06 2024 01:00:00 GMT+0100 (Central European Standard Time)"> <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://imangelo.dev/i18n-astro/","name":"https://localhost:4321"},"headline":"Implementando i18n en Astro","description":"Pequeña guía de cómo implementar i18n en Astro para tener páginas en múltiples idiomas.","image":["https://localhost:4321/banner.png"],"datePublished":"2024-01-06T00:00:00.000Z","dateModified":"2024-01-06T00:00:00.000Z","author":[{"@type":"Person","name":"Michelangelo Valderrama Vivanco","url":"https://imangelo.dev/"}],"publisher":{"@type":"Organization","name":"Michelangelo Valderrama","logo":{"@type":"ImageObject","url":"https://localhost:4321/banner.png"}}}</script> <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Implementando i18n en Astro","image":["https://localhost:4321/banner.png"],"datePublished":"2024-01-06T00:00:00.000Z","dateModified":"2024-01-06T00:00:00.000Z","author":[{"@type":"Person","name":"Michelangelo Valderrama Vivanco","url":"https://imangelo.dev/"}]}</script> <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://imangelo.dev/i18n-astro/","name":"Implementando i18n en Astro"}}]}</script><link rel="stylesheet" href="/_astro/_article_.DBc673nX.css">
<style>h1[data-astro-cid-h4kpgsl2]{margin:0}p[data-astro-cid-h4kpgsl2]{font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-muted-foreground))}
.quote[data-astro-cid-a2ihmirl]{font-size:1.25rem;line-height:1.75rem;color:hsl(var(--im-foreground) / .8)}.author[data-astro-cid-a2ihmirl]{margin-bottom:0;text-align:right;font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-accent-foreground))}
h1[data-astro-cid-h4kpgsl2]{margin:0}p[data-astro-cid-h4kpgsl2]{font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-muted-foreground))}
</style><script type="module">const s=(t,e)=>document.querySelector(t),i=(t,e)=>document.querySelectorAll(t),r=s("#art-wid-dk-cont"),u=s("#end-of-article"),b=new IntersectionObserver(t=>{t.forEach(({isIntersecting:e})=>{r.setAttribute("data-hidden",e+""),r.setAttribute("aria-hidden",e+"")})},{root:null,rootMargin:"0px",threshold:1});b.observe(u);const c=i("h1, h2"),a=i("a[data-toc-link]"),f={root:null,rootMargin:"0px 0px -500px 0px",threshold:1},g=t=>{t.forEach(({isIntersecting:e,target:{id:o}})=>{e&&a.forEach(n=>{const{headingId:d}=n.dataset,l=d===o,h=c[0].id===o;a.item(0).setAttribute("data-hidden",h+""),n.setAttribute("data-active",l+"")})})},v=new IntersectionObserver(g,f);c.forEach(t=>{v.observe(t)});
</script></head> <body class="relative bg-background text-foreground font-sans overflow-x-hidden">   <main class="container min-h-svh pb-24 pt-12 flex flex-col pb-24"> <header> <nav class="flex items-end justify-between mb-12"> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground pb-1 data-[active=&#x27;true&#x27;]:text-accent-foreground data-[active=&#x27;true&#x27;]:border-b-accent-foreground" about="_self" data-active="false" href="/">Inicio</a> <div class="border-b flex-1"></div> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground pb-1 ml-auto text-accent-foreground border-b-accent-foreground" about="_self" href="//i18n-astro/">Artículo</a> </nav> </header> <article class="flex-1">  <aside id="art-wid-dk-cont" class="
    fixed
    left-0 right-0 top-32
    hidden lg:block
    pointer-events-none
    transition-opacity duration-base
    data-[hidden=true]:opacity-0
  "> <div class="max-w-screen-2xl mx-auto flex justify-between"> <article class="ml-8 max-w-48"> <ul class="pointer-events-auto"> <li class="mb-3"> <a class="inline-flex items-center justify-center whitespace-nowrap duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100 transition-all duration-base data-[hidden=true]:opacity-0 data-[hidden=true]:pointer-events-none" about="_self" data-toc-link="true" data-heading-id="title" href="#" data-hidden="true">Implementando i18n en Astro</a> </li> <li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="configuración-y-utilidades" href="#configuración-y-utilidades">Configuración y utilidades</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="componentes" href="#componentes">Componentes</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="plantillas" href="#plantillas">Plantillas</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="páginas" href="#páginas">Páginas</a></li> </ul> </article>  </div> </aside>  <header class="mb-6" data-astro-cid-h4kpgsl2> <h1 data-astro-cid-h4kpgsl2>Implementando i18n en Astro</h1> <p data-astro-cid-h4kpgsl2> <time datetime="06 ene 2024" data-astro-cid-h4kpgsl2>06 ene 2024</time> </p>  </header>  <article id="article-content" class="prose mb-16">  <p>Nuevo artículo, nuevo tutorial.</p>
<p>Aquí una “guía” de como implementar i18n en Astro. ¿Pero no existen ya librerias para eso? Pues sí, pero cuando yo las quise implementar no funcionaban, así que tocó crearse la propia. Además, hacerlo tú mismo te hace menos dependiente de terceros.</p>
<p>Tener una página en muchos idiomas es siempre un fastidio, pero a veces es una necesidad si una quiere que su página web sea más accesible. Pero yo me vi en esta necesidad porque me tocó migrar la web de IF7SPORTS de Angular a Astro. ¿Por qué se usó Angular para una página estática? Ni idea, pero tardaba 6 segundos en cargar y eso no era bueno. En el blog de la web escribí un muy pequeño artículo sobre la migración, os lo dejo <a href="https://if7sports.com/es/blog/presenting-our-new-website/" rel="noopener noreferrer">aquí<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. La web también tenía diferentes idiomas, pero se usaba un sistema que yo he denominado <em>sistema de idiomas en base a directorios</em>, donde básicamente tienes una carpeta por cada idioma (aunque el idioma por defecto puede ser la carpeta raíz), llegando a una estructura tal que así:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.tdcb7.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5c6166">pages/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">index.html</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">en/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">index.html</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">fr/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">index.html</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="pages/  index.html  en/    index.html  fr/    index.html"><div></div></button></div></figure></div>
<p>De ello aprendí algo muy importante:</p>
<blockquote><p>Ni de coña vuelvo a tener que copiar una página entera para que esté en otro puto idioma.</p></blockquote>
<p>Siempre que se añadía cualquier cosa a la web había que realizarlo mínimo dos veces y era horrible, por eso decidí crear el sistema de idiomas de otra manera, uno que he denominado <em>sistema de idiomas en base a archivos</em>, donde tienes las traducciones en archivos separados.</p>
<blockquote><p>Si quereis basar vuestra sistema de traducción en directorios y comprobar en carne propia por qué es un atentado contra la humanidad os dejo la receta de oficial Astro de cómo hacerlo <a href="https://docs.astro.build/en/recipes/i18n/" rel="noopener noreferrer">aquí<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>.</p></blockquote>
<p>Cosa importante a decir ahora es que todas las rutas tiene el idioma como prefijo, e.g. <code>/en/home</code> o <code>/es/home</code>, por lo que la ruta raiz no es ningún idioma, e.g. <code>/home</code> es un 404, esto puede ser o no importante dependiendo de lo que buscas. Si quieres intentar hacer que la ruta raiz sea el idioma por defecto te deseo buena suerte y que dios te acompañe :></p>
<hr>
<h2 id="configuración-y-utilidades">Configuración y utilidades</h2>
<p>Crea el directorio <code>src/i18n</code>, donde estarán todos los scripts y componentes exclusivos de los idiomas, excepto las traducciones.</p>
<p>Cree la carpeta <code>public/locales</code> y dentro de ella, crea un archivo <code>.json</code> por cada idioma que quieras. En mi caso serán el Inglés, Español y Francés.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5c6166">public/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">locales/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">en.json</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">es.json</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">fr.json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public/  locales/    en.json    es.json    fr.json"><div></div></button></div></figure></div>
<p>En <code>src/i18n/config.ts</code>, añade lo siguiente:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> es </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'../../public/locales/es.json'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> en </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'../../public/locales/en.json'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> fr </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'../../public/locales/fr.json'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> LANGUAGES </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">en</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'English'</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">es</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'Español'</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">fr</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'Français'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> LOCALES </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">en</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'en-GB'</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">es</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'es-ES'</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">fr</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'fr-FR'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> LANGUAGES_ARRAY </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">keys</span><span style="--0:#5C6166">(LANGUAGES)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'en'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> TRANSLATIONS </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> { en</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> es</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> fr }</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Lang</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">keyof</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> TRANSLATIONS</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Page</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">keyof</span><span style="--0:#5C6166"> (</span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> TRANSLATIONS)[</span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE]</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import es from &#x27;../../public/locales/es.json&#x27;import en from &#x27;../../public/locales/en.json&#x27;import fr from &#x27;../../public/locales/fr.json&#x27;export const LANGUAGES = {  en: &#x27;English&#x27;,  es: &#x27;Español&#x27;,  fr: &#x27;Français&#x27;}export const LOCALES = {  en: &#x27;en-GB&#x27;,  es: &#x27;es-ES&#x27;,  fr: &#x27;fr-FR&#x27;}export const LANGUAGES_ARRAY = Object.keys(LANGUAGES)export const DEFAULT_LANGUAGE = &#x27;en&#x27;export const TRANSLATIONS = { en, es, fr }export type Lang = keyof typeof TRANSLATIONSexport type Page = keyof (typeof TRANSLATIONS)[typeof DEFAULT_LANGUAGE]"><div></div></button></div></figure></div>
<p>En <code>config.ts</code> se importan las traducciones, se configuran los idiomas, sus <em>locales</em> y se hacen demás cosas útiles.</p>
<p>En el archivo <code>src/i18n/utils.ts</code>, añade lo siguiente:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">DEFAULT_LANGUAGE</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">LANGUAGES</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">TRANSLATIONS</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> Lang</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> Page</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#5C6166">} </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'./config'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* Obtiene el idioma por el pathname.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">pathname</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getLangFromPathname</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">pathname</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> [</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> lang] </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> pathname</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">split</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">'/'</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> lang </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Lang</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* Obtiene el idioma por un objeto URL.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">url</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getLanguageFromUrl</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> (</span><span style="--0:#A37ACC">url</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">URL</span><span style="--0:#5C6166">) </span><span style="--0:#FA8D3E">=></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">getLangFromPathname</span><span style="--0:#5C6166">(url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">pathname)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* Configura la función `t` para el idioma indicado.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">lang</span><span style="--0:#787B8099;--0fs:italic"> - El idioma deseado.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">defaultPage</span><span style="--0:#787B8099;--0fs:italic"> - Indica la página por defecto.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">useTranslations</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">lang</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Lang</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">defaultPage</span><span style="--0:#ED9366">?:</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Page</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic">   </span></span><span style="--0:#787B8099;--0fs:italic">* Devuelve el texto traducido en la página por defecto o en la especificada.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic">   </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">page</span><span style="--0:#787B8099;--0fs:italic"> - Especifica la página, e.g. `home`, `about`, etc. La clave es de un solo nivel, por tanto `home.title` no es válido.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic">   </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">t</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">page</span><span style="--0:#ED9366">?:</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Page</span><span style="--0:#5C6166">)</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">any</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> lang$ </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">in</span><span style="--0:#5C6166"> LANGUAGES </span><span style="--0:#ED9366">?</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> page$ </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> page </span><span style="--0:#ED9366">??</span><span style="--0:#5C6166"> defaultPage</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> page$ </span><span style="--0:#ED9366">?</span><span style="--0:#5C6166"> TRANSLATIONS[lang$][page$] </span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">''</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import {  DEFAULT_LANGUAGE,  LANGUAGES,  TRANSLATIONS,  type Lang,  type Page} from &#x27;./config&#x27;/** * Obtiene el idioma por el pathname. * @param pathname */export function getLangFromPathname(pathname: string) {  const [, lang] = pathname.split(&#x27;/&#x27;)  return lang as Lang}/** * Obtiene el idioma por un objeto URL. * @param url */export const getLanguageFromUrl = (url: URL) =>  getLangFromPathname(url.pathname)/** * Configura la función &#x60;t&#x60; para el idioma indicado. * @param lang - El idioma deseado. * @param defaultPage - Indica la página por defecto. */export function useTranslations(lang: Lang, defaultPage?: Page) {  /**   * Devuelve el texto traducido en la página por defecto o en la especificada.   * @param page - Especifica la página, e.g. &#x60;home&#x60;, &#x60;about&#x60;, etc. La clave es de un solo nivel, por tanto &#x60;home.title&#x60; no es válido.   */  return function t(page?: Page): any {    const lang$ = lang in LANGUAGES ? lang : DEFAULT_LANGUAGE    const page$ = page ?? defaultPage    return page$ ? TRANSLATIONS[lang$][page$] : &#x27;&#x27;  }}"><div></div></button></div></figure></div>
<p>Por último, puedes añadir algunos <em>import aliases</em> útiles a tu archivo <code>tsconfig.json</code>.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#E65050">...,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"compilerOptions"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"baseUrl"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"."</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"paths"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"@i18n/*"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#86B300">"src/i18n/*"</span><span style="--0:#5C6166">]</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"@layouts/*"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#86B300">"src/layouts/*"</span><span style="--0:#5C6166">]</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"@components/*"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#86B300">"src/components/*"</span><span style="--0:#5C6166">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  ...,  &#x22;compilerOptions&#x22;: {    &#x22;baseUrl&#x22;: &#x22;.&#x22;,    &#x22;paths&#x22;: {      &#x22;@i18n/*&#x22;: [&#x22;src/i18n/*&#x22;],      &#x22;@layouts/*&#x22;: [&#x22;src/layouts/*&#x22;],      &#x22;@components/*&#x22;: [&#x22;src/components/*&#x22;]    }  }}"><div></div></button></div></figure></div>
<h2 id="componentes">Componentes</h2>
<p>Para poder cambiar de idioma, crea el archivo <code>src/i18n/LanguagePicker.astro</code>. Yo os dejo dos opciones: un seleccionable o una lista.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { LANGUAGES</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> LOCALES</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> Lang } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"./config"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> url </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> origin </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">origin</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> [</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> lang</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">...</span><span style="--0:#5C6166">slug] </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">pathname</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">split</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">&#x3C;!-- OPCIÓN 01 --></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#FA8D3E">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">lang </span><span style="--0:#ED9366">in</span><span style="--0:#5C6166"> LANGUAGES </span><span style="--0:#ED9366">&#x26;&#x26;</span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">select</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">      </span><span style="--0:#F2AE49">id</span><span style="--0:#ED9366">=</span><span style="--0:#86B300">"lang-selector"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">option</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">value</span><span style="--0:#ED9366">=</span><span style="--0:#86B300">""</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">disabled</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">selected</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">        </span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">LANGUAGES[lang </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Lang</span><span style="--0:#5C6166">]</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">option</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">      </span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">entries</span><span style="--0:#5C6166">(LANGUAGES)</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">map</span><span style="--0:#5C6166">(([</span><span style="--0:#A37ACC">l</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">label</span><span style="--0:#5C6166">]) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D480">&#x3C;></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">          </span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">l </span><span style="--0:#ED9366">!==</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">&#x26;&#x26;</span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">            </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">option</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">value</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">origin</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">l</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">slug</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">join</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">              </span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">label</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">            </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">option</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">          </span></span><span style="--0:#5C6166">)</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D480">&#x3C;/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">))</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">select</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">&#x3C;!-- OPCIÓN 02 --></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">ul</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">entries</span><span style="--0:#5C6166">(LANGUAGES)</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">map</span><span style="--0:#5C6166">(([</span><span style="--0:#A37ACC">l</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">label</span><span style="--0:#5C6166">]) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">li</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">a</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">          </span><span style="--0:#F2AE49">href</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">origin</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">l</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">slug</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">join</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">          </span><span style="--0:#F2AE49">hreflang</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">LOCALES[l </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">keyof</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> LOCALES]</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">          </span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">label</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">a</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">li</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">42</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">))</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">43</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">44</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">ul</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">45</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">46</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">script</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">47</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">// solo para la opción 1</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">48</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">optionsAsLinks</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">selector</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">49</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> selectElem </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> document</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">querySelector</span><span style="--0:#5C6166">(selector) </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">HTMLSelectElement</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">50</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">selectElem</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">addEventListener</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"change"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> () </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">51</div></div><div class="code"><span class="indent">      </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> selectedIndex </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> selectElem</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">selectedIndex</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">52</div></div><div class="code"><span class="indent">      </span><span style="--0:#FA8D3E">if</span><span style="--0:#5C6166"> (selectElem</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">options[selectedIndex]</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">value) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">53</div></div><div class="code"><span class="indent">        </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> url </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> selectElem</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">options[selectedIndex]</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">value</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">54</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">        </span></span><span style="--0:#5C6166">window</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">location </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> url </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">&#x26;</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Location</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">55</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">56</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">57</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">58</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">optionsAsLinks</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"#lang-selector"</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">59</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">script</span><span style="--0:#55B4D480">></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { LANGUAGES, LOCALES, type Lang } from &#x22;./config&#x22;const url = Astro.urlconst origin = url.originconst [, lang, ...slug] = url.pathname.split(&#x22;/&#x22;)---<!-- OPCIÓN 01 -->{  lang in LANGUAGES &#x26;&#x26; (    <select      id=&#x22;lang-selector&#x22;    >      <option value=&#x22;&#x22; disabled selected>        {LANGUAGES[lang as Lang]}      </option>      {Object.entries(LANGUAGES).map(([l, label]) => (        <>          {l !== lang &#x26;&#x26; (            <option value={&#x60;${origin}/${l}/${slug.join(&#x22;/&#x22;)}&#x60;}>              {label}            </option>          )}        </>      ))}    </select>  )}<!-- OPCIÓN 02 --><ul>  {    Object.entries(LANGUAGES).map(([l, label]) => (      <li>        <a          href={&#x60;${origin}/${l}/${slug.join(&#x22;/&#x22;)}&#x60;}          hreflang={LOCALES[l as keyof typeof LOCALES]}        >          {label}        </a>      </li>    ))  }</ul><script>  // solo para la opción 1  function optionsAsLinks(selector: string) {    const selectElem = document.querySelector(selector) as HTMLSelectElement    selectElem.addEventListener(&#x22;change&#x22;, () => {      const selectedIndex = selectElem.selectedIndex      if (selectElem.options[selectedIndex].value) {        const url = selectElem.options[selectedIndex].value        window.location = url as string &#x26; Location      }    })  }  optionsAsLinks(&#x22;#lang-selector&#x22;)</script>"><div></div></button></div></figure></div>
<p>Hay ciertos casos en los que es útil poder establecer etiquetas html invariables a cada idioma sin tener que repetirlo en todos los <code>[language].json</code>, para eso en <code>src/i18n/Trans.astro</code> añade lo siguiente:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { DEFAULT_LANGUAGE</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> Page } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"./config"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { getLanguageFromUrl</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> useTranslations } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"./utils"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { replaceTextTargetsByTemplate } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"./languageTarget"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#FA8D3E">interface</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Props</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">page</span><span style="--0:#ED9366">?:</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Page</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">section</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">class</span><span style="--0:#ED9366">?:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> { page</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> section</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> class: className } </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">props</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getLanguageFromUrl</span><span style="--0:#5C6166">(Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> t </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">useTranslations</span><span style="--0:#5C6166">(lang</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> page)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> slot </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">await</span><span style="--0:#5C6166"> Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">slots</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">render</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"default"</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> text </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">===</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE </span><span style="--0:#ED9366">?</span><span style="--0:#5C6166"> slot </span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> (</span><span style="--0:#F2AE49">t</span><span style="--0:#5C6166">()[section] </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">p</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">class</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">className</span><span style="--0:#FA8D3E">}</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">set:html</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#F2AE49">replaceTextTargetsByTemplate</span><span style="--0:#5C6166">(slot</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> text)</span><span style="--0:#FA8D3E">}</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { DEFAULT_LANGUAGE, type Page } from &#x22;./config&#x22;import { getLanguageFromUrl, useTranslations } from &#x22;./utils&#x22;import { replaceTextTargetsByTemplate } from &#x22;./languageTarget&#x22;interface Props {  page?: Page  section: string  class?: string}const { page, section, class: className } = Astro.propsconst lang = getLanguageFromUrl(Astro.url)const t = useTranslations(lang, page)const slot = await Astro.slots.render(&#x22;default&#x22;)const text = lang === DEFAULT_LANGUAGE ? slot : (t()[section] as string)---<p class={className} set:html={replaceTextTargetsByTemplate(slot, text)} />"><div></div></button></div></figure></div>
<p>Además, tienes que crear el archivo <code>src/i18n/languageTarget.ts</code>.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* Obtiene las etiquetas de un texto HTML.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">html</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@returns</span><span style="--0:#787B8099;--0fs:italic"> Retorna un array con las etiquetas, que incluyen `&#x3C;>` y `&#x3C;/>`.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getHtmlTargets</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">html</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> targets</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">[] </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> []</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">let</span><span style="--0:#5C6166"> index </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">0</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">while</span><span style="--0:#5C6166"> (index </span><span style="--0:#ED9366">&#x3C;</span><span style="--0:#5C6166"> html</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">length) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">if</span><span style="--0:#5C6166"> (html[index] </span><span style="--0:#ED9366">===</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'&#x3C;'</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">      </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> endTarget </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> html</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">indexOf</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">'>'</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> index)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">      </span><span style="--0:#FA8D3E">if</span><span style="--0:#5C6166"> (endTarget </span><span style="--0:#ED9366">!==</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">-</span><span style="--0:#A37ACC">1</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> fullTarget </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> html</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">slice</span><span style="--0:#5C6166">(index</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> endTarget </span><span style="--0:#ED9366">+</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">1</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">        </span></span><span style="--0:#5C6166">targets</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">push</span><span style="--0:#5C6166">(fullTarget)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">        </span></span><span style="--0:#5C6166">index </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> endTarget </span><span style="--0:#ED9366">+</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">1</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">        </span><span style="--0:#FA8D3E">continue</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">index</span><span style="--0:#ED9366">++</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> targets</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">/**</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* Sustituye las etiquetas numerales (`&#x3C;0>&#x3C;/0>`, `&#x3C;1>&#x3C;/1>`, etc.) de un texto por las etiquetas de una plantilla.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* > El texto y el plantilla han de tener el mismo número de etiquetas.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">template</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">* </span><span style="--0:#FA8D3E;--0fs:italic">@param</span><span style="--0:#787B8099;--0fs:italic"> </span><span style="--0:#5C6166;--0fs:italic">text</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent"><span style="--0:#787B8099;--0fs:italic"> </span></span><span style="--0:#787B8099;--0fs:italic">*/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">function</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">replaceTextTargetsByTemplate</span><span style="--0:#5C6166">(</span><span style="--0:#A37ACC">template</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">text</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span><span style="--0:#5C6166">) {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">if</span><span style="--0:#5C6166"> (</span><span style="--0:#ED9366">!</span><span style="--0:#5C6166">text) </span><span style="--0:#FA8D3E">throw</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">new</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">Error</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">'Text is undefined'</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> targets </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getHtmlTargets</span><span style="--0:#5C6166">(template)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> text</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">replace</span><span style="--0:#5C6166">(</span><span style="--0:#4CBF99">/&#x3C;(\d</span><span style="--0:#ED9366">+</span><span style="--0:#4CBF99">)>(.</span><span style="--0:#ED9366">*?</span><span style="--0:#4CBF99">)&#x3C;\/</span><span style="--0:#FA8D3E">\1</span><span style="--0:#4CBF99">>/</span><span style="--0:#FA8D3E">g</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> (</span><span style="--0:#A37ACC">_</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">pos</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">cont</span><span style="--0:#5C6166">) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> num </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">parseInt</span><span style="--0:#5C6166">(pos)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">targets[num </span><span style="--0:#ED9366">*</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">2</span><span style="--0:#5C6166">]</span><span style="--0:#FA8D3E">}${</span><span style="--0:#5C6166">cont</span><span style="--0:#FA8D3E">}${</span><span style="--0:#5C6166">targets[num </span><span style="--0:#ED9366">*</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">2</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">+</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">1</span><span style="--0:#5C6166">]</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/** * Obtiene las etiquetas de un texto HTML. * @param html * @returns Retorna un array con las etiquetas, que incluyen &#x60;<>&#x60; y &#x60;</>&#x60;. */function getHtmlTargets(html: string) {  const targets: string[] = []  let index = 0  while (index < html.length) {    if (html[index] === &#x27;<&#x27;) {      const endTarget = html.indexOf(&#x27;>&#x27;, index)      if (endTarget !== -1) {        const fullTarget = html.slice(index, endTarget + 1)        targets.push(fullTarget)        index = endTarget + 1        continue      }    }    index++  }  return targets}/** * Sustituye las etiquetas numerales (&#x60;<0></0>&#x60;, &#x60;<1></1>&#x60;, etc.) de un texto por las etiquetas de una plantilla. * > El texto y el plantilla han de tener el mismo número de etiquetas. * @param template * @param text */export function replaceTextTargetsByTemplate(template: string, text: string) {  if (!text) throw new Error(&#x27;Text is undefined&#x27;)  const targets = getHtmlTargets(template)  return text.replace(/<(\d+)>(.*?)<\/\1>/g, (_, pos, cont) => {    const num = parseInt(pos)    return &#x60;${targets[num * 2]}${cont}${targets[num * 2 + 1]}&#x60;  })}"><div></div></button></div></figure></div>
<p>Para el SEO, crea el archivo <code>src/i18n/I18nHeaders.astro</code> con lo siguiente:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { DEFAULT_LANGUAGE</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> LOCALES } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"./config"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> [</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">...</span><span style="--0:#5C6166">path] </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">pathname</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">split</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">link</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">rel</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"alternate"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">href</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">origin</span><span style="--0:#FA8D3E">}${</span><span style="--0:#5C6166">DEFAULT_LANGUAGE</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">path</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">join</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">hreflang</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"x-default"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#FA8D3E">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">keys</span><span style="--0:#5C6166">(LOCALES)</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">map</span><span style="--0:#5C6166">((</span><span style="--0:#A37ACC">l</span><span style="--0:#5C6166">) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">link</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">      </span><span style="--0:#F2AE49">rel</span><span style="--0:#ED9366">=</span><span style="--0:#86B300">"alternate"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">      </span><span style="--0:#F2AE49">href</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">origin</span><span style="--0:#FA8D3E">}${</span><span style="--0:#5C6166">l</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">path</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">join</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">"/"</span><span style="--0:#5C6166">)</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">`</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">      </span><span style="--0:#F2AE49">hreflang</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">LOCALES[l </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">keyof</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> LOCALES]</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">))</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">property</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"og:locale"</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">content</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">LOCALES[DEFAULT_LANGUAGE]</span><span style="--0:#FA8D3E">}</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span style="--0:#FA8D3E">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">keys</span><span style="--0:#5C6166">(LOCALES)</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">map</span><span style="--0:#5C6166">((</span><span style="--0:#A37ACC">l</span><span style="--0:#5C6166">) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">if</span><span style="--0:#5C6166"> (l </span><span style="--0:#ED9366">===</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE) </span><span style="--0:#FA8D3E">return</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">    </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">        </span><span style="--0:#F2AE49">property</span><span style="--0:#ED9366">=</span><span style="--0:#86B300">"og:locale:alternate"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent">        </span><span style="--0:#F2AE49">content</span><span style="--0:#ED9366">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">LOCALES[l </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">keyof</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">typeof</span><span style="--0:#5C6166"> LOCALES]</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span style="--0:#FA8D3E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { DEFAULT_LANGUAGE, LOCALES } from &#x22;./config&#x22;const [, , ...path] = Astro.url.pathname.split(&#x22;/&#x22;)---<link  rel=&#x22;alternate&#x22;  href={&#x60;${Astro.url.origin}${DEFAULT_LANGUAGE}/${path.join(&#x22;/&#x22;)}&#x60;}  hreflang=&#x22;x-default&#x22;/>{  Object.keys(LOCALES).map((l) => (    <link      rel=&#x22;alternate&#x22;      href={&#x60;${Astro.url.origin}${l}/${path.join(&#x22;/&#x22;)}&#x60;}      hreflang={LOCALES[l as keyof typeof LOCALES]}    />  ))}<meta property=&#x22;og:locale&#x22; content={LOCALES[DEFAULT_LANGUAGE]} />{  Object.keys(LOCALES).map((l) => {    if (l === DEFAULT_LANGUAGE) return    return (      <meta        property=&#x22;og:locale:alternate&#x22;        content={LOCALES[l as keyof typeof LOCALES]}      />    )  })}"><div></div></button></div></figure></div>
<h2 id="plantillas">Plantillas</h2>
<p>Para que el navegador sepa en que idioma se encuentra la página, es importante añadir el atributo <code>lang</code> en la etiqueta <code>html</code>, para ello añade lo siguiente en el archivo <code>src/layouts/BaseLayout.astro</code>:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> I18NHeaders </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@i18n/I18nHeaders.astro"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { getLanguageFromUrl } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@i18n/utils"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#FA8D3E">interface</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Props</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">title</span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D4">string</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> lang </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getLanguageFromUrl</span><span style="--0:#5C6166">(Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">url)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">html</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">lang</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">lang</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">head</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">charset</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"utf-8"</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">name</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"viewport"</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">content</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"width=device-width"</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">name</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"generator"</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">content</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">generator</span><span style="--0:#FA8D3E">}</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">link</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">rel</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"shortcut icon"</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">href</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"/favicon.svg"</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">type</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"image/x-icon"</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">title</span><span style="--0:#55B4D480">></span><span style="--0:#FA8D3E">{</span><span style="--0:#5C6166">Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">props</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">title</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">title</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#399EE6">I18NHeaders</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">head</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">body</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">slot</span><span style="--0:#5C6166"> </span><span style="--0:#55B4D480">/></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">body</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">html</span><span style="--0:#55B4D480">></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import I18NHeaders from &#x22;@i18n/I18nHeaders.astro&#x22;import { getLanguageFromUrl } from &#x22;@i18n/utils&#x22;interface Props {  title: string}const lang = getLanguageFromUrl(Astro.url)---<html lang={lang}>  <head>    <meta charset=&#x22;utf-8&#x22; />    <meta name=&#x22;viewport&#x22; content=&#x22;width=device-width&#x22; />    <meta name=&#x22;generator&#x22; content={Astro.generator} />    <link rel=&#x22;shortcut icon&#x22; href=&#x22;/favicon.svg&#x22; type=&#x22;image/x-icon&#x22; />    <title>{Astro.props.title}</title>    <I18NHeaders />  </head>  <body>    <slot />  </body></html>"><div></div></button></div></figure></div>
<h2 id="páginas">Páginas</h2>
<h3 id="indexastro"><code>index.astro</code></h3>
<p>Como comenté al principio, este sistema no está configurado para que la ruta raiz sea el idioma predeterminado, por lo tanto hay que redirigir al usuario añadiendo lo siguiente en <code>src/pages/index.astro</code>:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { DEFAULT_LANGUAGE } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@i18n/config"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">meta</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">http-equiv</span><span style="--0:#5C6166B3">=</span><span style="--0:#86B300">"refresh"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#F2AE49">content</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#86B300">`0;url=/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">DEFAULT_LANGUAGE</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/`</span><span style="--0:#FA8D3E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#55B4D480">/></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { DEFAULT_LANGUAGE } from &#x22;@i18n/config&#x22;---<meta  http-equiv=&#x22;refresh&#x22;  content={&#x60;0;url=/${DEFAULT_LANGUAGE}/&#x60;}/>"><div></div></button></div></figure></div>
<p>El problema con esto es que las redirecciones por el lado del cliente son penalizantes para el SEO, por lo que una mejor opción sería usar el modo o <code>hybrid</code> de Astro y cambiar lo anterior por:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { DEFAULT_LANGUAGE</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> LANGUAGES } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">'@i18n/config'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> prerender </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">false</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> headers </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Object</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">fromEntries</span><span style="--0:#5C6166">(Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">request</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">headers)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> userLanguage </span><span style="--0:#ED9366">=</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">headers[</span><span style="--0:#86B300">'accept-language'</span><span style="--0:#5C6166">]</span><span style="--0:#ED9366">?</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">split</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">','</span><span style="--0:#5C6166">)[</span><span style="--0:#A37ACC">0</span><span style="--0:#5C6166">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">split</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">'-'</span><span style="--0:#5C6166">)[</span><span style="--0:#A37ACC">0</span><span style="--0:#5C6166">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#5C6166">const lang </span><span style="--0:#ED9366">=</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">userLanguage </span><span style="--0:#ED9366">!==</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">undefined</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">&#x26;&#x26;</span><span style="--0:#5C6166"> userLanguage </span><span style="--0:#ED9366">in</span><span style="--0:#5C6166"> LANGUAGES</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">  </span><span style="--0:#ED9366">?</span><span style="--0:#5C6166"> userLanguage</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">  </span><span style="--0:#ED9366">:</span><span style="--0:#5C6166"> DEFAULT_LANGUAGE</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span style="--0:#5C6166">return Astro</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">redirect</span><span style="--0:#5C6166">(</span><span style="--0:#86B300">`/</span><span style="--0:#FA8D3E">${</span><span style="--0:#5C6166">lang</span><span style="--0:#FA8D3E">}</span><span style="--0:#86B300">/`</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">301</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#ED9366">---</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import { DEFAULT_LANGUAGE, LANGUAGES } from &#x27;@i18n/config&#x27;export const prerender = falseconst headers = Object.fromEntries(Astro.request.headers)const userLanguage =  headers[&#x27;accept-language&#x27;]?  .split(&#x27;,&#x27;)[0]  .split(&#x27;-&#x27;)[0]const lang =  userLanguage !== undefined &#x26;&#x26; userLanguage in LANGUAGES  ? userLanguage  : DEFAULT_LANGUAGEreturn Astro.redirect(&#x60;/${lang}/&#x60;, 301)---"><div></div></button></div></figure></div>
<h3 id="lang"><code>[lang]</code></h3>
<p>Las páginas para cada idioma se generan gracias a las <a href="https://docs.astro.build/en/core-concepts/routing/#static-ssg-mode" rel="noopener noreferrer">rutas <span>dinámicas<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a> de Astro, lo único malo es que hay que indicar en todas las páginas los idiomas en los que se va ha traducir.</p>
<p>Crea las traducciones en los <code>[languages].json</code>:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"home"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"head_title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Home"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Welcome!"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"subtitle"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"This is an Astro test with i18n."</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;home&#x22;: {    &#x22;head_title&#x22;: &#x22;Home&#x22;,    &#x22;title&#x22;: &#x22;Welcome!&#x22;,    &#x22;subtitle&#x22;: &#x22;This is an Astro test with i18n.&#x22;  }}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"home"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"head_title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Inicio"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"¡Bienvenido!"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"subtitle"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Esto es un prueba de Astro con i18n."</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;home&#x22;: {    &#x22;head_title&#x22;: &#x22;Inicio&#x22;,    &#x22;title&#x22;: &#x22;¡Bienvenido!&#x22;,    &#x22;subtitle&#x22;: &#x22;Esto es un prueba de Astro con i18n.&#x22;  }}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"home"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"head_title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Début"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"title"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Accueillir!"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"subtitle"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Il s'agit d'un test Astro avec i18n."</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;home&#x22;: {    &#x22;head_title&#x22;: &#x22;Début&#x22;,    &#x22;title&#x22;: &#x22;Accueillir!&#x22;,    &#x22;subtitle&#x22;: &#x22;Il s&#x27;agit d&#x27;un test Astro avec i18n.&#x22;  }}"><div></div></button></div></figure></div>
<p>Crea el directorio <code>src/pages/[lang]</code>.</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5c6166">pages/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">index.astro</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">[lang]/</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="pages/  index.astro    [lang]/"><div></div></button></div></figure></div>
<p>En <code>src/pages/[lang]/index.astro</code> añade lo siguiente:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="astro"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> BaseLayout </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@layouts/BaseLayout.astro"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { LANGUAGES_ARRAY</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">type</span><span style="--0:#5C6166"> Lang } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@i18n/config"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#FA8D3E">import</span><span style="--0:#5C6166"> { useTranslations } </span><span style="--0:#FA8D3E">from</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"@i18n/utils"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#FA8D3E">export</span><span style="--0:#5C6166"> </span><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">getStaticPaths</span><span style="--0:#5C6166"> </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> () </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#FA8D3E">return</span><span style="--0:#5C6166"> LANGUAGES_ARRAY</span><span style="--0:#ED9366">.</span><span style="--0:#F2AE49">map</span><span style="--0:#5C6166">((</span><span style="--0:#A37ACC">lang</span><span style="--0:#5C6166">) </span><span style="--0:#FA8D3E">=></span><span style="--0:#5C6166"> ({</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">params</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> { lang }</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}))</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> { lang } </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> Astro</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">params</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span style="--0:#FA8D3E">const</span><span style="--0:#5C6166"> t </span><span style="--0:#ED9366">=</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">useTranslations</span><span style="--0:#5C6166">(lang </span><span style="--0:#FA8D3E">as</span><span style="--0:#5C6166"> </span><span style="--0:#399EE6">Lang</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"home"</span><span style="--0:#5C6166">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#787B8099;--0fs:italic">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#399EE6">BaseLayout</span><span style="--0:#5C6166"> </span><span style="--0:#F2AE49">title</span><span style="--0:#5C6166B3">=</span><span style="--0:#FA8D3E">{</span><span style="--0:#F2AE49">t</span><span style="--0:#5C6166">()</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">head_title</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">h1</span><span style="--0:#55B4D480">></span><span style="--0:#FA8D3E">{</span><span style="--0:#F2AE49">t</span><span style="--0:#5C6166">()</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">title</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">h1</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D480">&#x3C;</span><span style="--0:#55B4D4">p</span><span style="--0:#55B4D480">></span><span style="--0:#FA8D3E">{</span><span style="--0:#F2AE49">t</span><span style="--0:#5C6166">()</span><span style="--0:#ED9366">.</span><span style="--0:#5C6166">subtitle</span><span style="--0:#FA8D3E">}</span><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#55B4D4">p</span><span style="--0:#55B4D480">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span style="--0:#55B4D480">&#x3C;/</span><span style="--0:#399EE6">BaseLayout</span><span style="--0:#55B4D480">></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---import BaseLayout from &#x22;@layouts/BaseLayout.astro&#x22;import { LANGUAGES_ARRAY, type Lang } from &#x22;@i18n/config&#x22;import { useTranslations } from &#x22;@i18n/utils&#x22;export const getStaticPaths = () => {  return LANGUAGES_ARRAY.map((lang) => ({    params: { lang },  }))}const { lang } = Astro.paramsconst t = useTranslations(lang as Lang, &#x22;home&#x22;)---<BaseLayout title={t().head_title}>  <h1>{t().title}</h1>  <p>{t().subtitle}</p></BaseLayout>"><div></div></button></div></figure></div>
<p>Ahora deberías poder ejecutar <code>npm run dev</code> y tener una página i18n.</p>
<p>Si quieres ver un ejemplo más completo puedes ir a este <a href="https://github.com/michelangelo-valderrama/test-astro-i18n/" rel="noopener noreferrer">repositorio<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>, que tiene un blog y usa traducciones en los componentes.</p>  </article> <div id="end-of-article"> <aside class="flex items-start mb-8"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let a of e)if(a.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=l;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="2u94mX" prefix="r8" component-url="/_astro/info-button.v77e7Vc3.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;coverCredits&quot;:[0],&quot;pubDate&quot;:[3,&quot;2024-01-06T00:00:00.000Z&quot;],&quot;lastModDate&quot;:[0],&quot;category&quot;:[0,&quot;tutorial&quot;],&quot;tags&quot;:[1,[[0,&quot;i18n&quot;],[0,&quot;astro&quot;]]]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;InfoButton&quot;,&quot;value&quot;:true}" await-children=""><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r8R0:" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></button><!--astro:end--></astro-island> <astro-island uid="2o1ODE" prefix="r9" component-url="/_astro/copy-url.Dzye2lEi.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;url&quot;:[0,&quot;https://imangelo.dev/i18n-astro/&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;CopyUrlButton&quot;,&quot;value&quot;:true}" await-children=""><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-copied="false" class="
          transition-all duration-base
          data-[copied=&#x27;true&#x27;]:scale-0
          data-[copied=&#x27;true&#x27;]:opacity-0
        "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-copied="false" class="
          absolute
          transition-all duration-base
          scale-0
          opacity-0
          data-[copied=&#x27;true&#x27;]:scale-100
          data-[copied=&#x27;true&#x27;]:opacity-100
        "><path d="M20 6 9 17l-5-5"></path></svg></button><!--astro:end--></astro-island> <astro-island uid="ZG4Teq" prefix="r10" component-url="/_astro/share-button.AJUKhckH.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;title&quot;:[0,&quot;123&quot;],&quot;url&quot;:[0,&quot;https://imangelo.dev/i18n-astro/&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ShareButton&quot;,&quot;value&quot;:true}" await-children=""><div class="inline-flex"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground size-9 bg-background relative z-10 data-[open=&#x27;true&#x27;]:border data-[open=&#x27;true&#x27;]:rounded-r-none data-[open=&#x27;true&#x27;]:text-muted-foreground"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="
            transition-all duration-base
            data-[open=&#x27;true&#x27;]:scale-0
            data-[open=&#x27;true&#x27;]:opacity-0
          "><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" x2="12" y1="2" y2="15"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="
            absolute
            transition-all duration-base
            scale-0 opacity-0
            data-[open=&#x27;true&#x27;]:scale-100
            data-[open=&#x27;true&#x27;]:opacity-100
          "><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button><div aria-hidden="true" inert="" class="
          rounded-r-md border border-l-0
          h-9
          bg-background-contrast
          transition-all duration-base
          opacity-0
          pointer-events-none
          ml-[-100%]
          data-[open=&#x27;true&#x27;]:animate-im-slide-to-right
          data-[open=&#x27;false&#x27;]:animate-im-slide-to-left
        "><div class="flex size-full"><a tabindex="-1" href="https://www.linkedin.com/sharing/share-offsite?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fi18n-astro%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 11v5"></path><path d="M8 8v.01"></path><path d="M12 16v-5"></path><path d="M16 16v-3a2 2 0 1 0 -4 0"></path><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"></path></svg></button></a><a tabindex="-1" href="https://t.me/share/url?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fi18n-astro%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"></path></svg></button></a><a tabindex="-1" href="https://twitter.com/intent/tweet?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fi18n-astro%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 4l11.733 16h4.267l-11.733 -16z"></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path></svg></button></a></div></div></div><!--astro:end--></astro-island> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="ZgAcij" component-url="/_astro/like-button.DzkhgXBo.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;slug&quot;:[0,&quot;i18n-astro&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;LikeButton&quot;,&quot;value&quot;:&quot;react&quot;}" await-children=""><div class="animate-pulse rounded-md bg-primary/5 h-9 w-20 ml-auto" slot="fallback"></div><template data-astro-template="fallback"><div class="animate-pulse rounded-md bg-primary/5 h-9 w-20 ml-auto" slot="fallback"></div></template><!--astro:end--></astro-island> </aside>  </div>  </article> </main> <footer class="pt-8 pb-12 border-t bg-background-contrast relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]"> <div class="container"> <ul class="mb-14 flex justify-between *:flex *:flex-col *:items-start *:gap-y-2 text-sm"> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/">Inicio</a> </li> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/newsletter">Newsletter</a> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/rss.xml">RSS</a> </li> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="https://portfolio.imangelo.dev/">Portfolio</a> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/links">Links</a> </li> </ul> <p class="uppercase flex items-center justify-between text-xs text-muted-foreground"> <span>di mikeˈlandʒelo</span> <span>MD, ES — 2024</span> </p> </div> </footer>  <script>(()=>{var l=(o,t)=>{let i=async()=>{await(await o())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();</script><astro-island uid="2pIGwL" prefix="r12" component-url="/_astro/toaster.DsoaCN1j.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;Toaster&quot;,&quot;value&quot;:true}" await-children=""><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><!--astro:end--></astro-island> </body></html>