<!DOCTYPE html><html lang="es"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.16.16"><meta http-equiv="X-UA-Compatible" content="IE=7"><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"><link rel="shortcut icon" href="favicon.svg" type="image/x-icon"><link rel="canonical" href="https://imangelo.dev/devcontainers/"><meta name="robots" content="index, follow"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="RSS Feed de imangelo.dev" href="/rss.xml"><title>Sobre los dev containers: Una guía práctica | Michelangelo Valderrama</title><meta name="description" content="Aprende cómo los Dev Containers optimizan el desarrollo de proyectos frontend y backend, creando entornos replicables y ahorrando tiempo en configuraciones complejas."> <meta property="twitter:title" content="Sobre los dev containers: Una guía práctica | Michelangelo Valderrama"><meta property="twitter:description" content="Aprende cómo los Dev Containers optimizan el desarrollo de proyectos frontend y backend, creando entornos replicables y ahorrando tiempo en configuraciones complejas."><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@imangelo84"><meta property="twitter:creator" content="@imangelo84"><meta property="twitter:image" content="https://localhost:4321/banner.png"><meta property="twitter:image:alt" content="Michelangelo Valderrama"> <meta property="og:title" content="Sobre los dev containers: Una guía práctica | Michelangelo Valderrama"><meta property="og:type" content="website"><meta property="og:url" content="https://imangelo.dev/devcontainers/"><meta property="og:locale" content="es_ES"><meta property="og:description" content="Aprende cómo los Dev Containers optimizan el desarrollo de proyectos frontend y backend, creando entornos replicables y ahorrando tiempo en configuraciones complejas."><meta property="og:site_name" content="Michelangelo Valderrama"><meta property="og:image" content="https://localhost:4321/banner.png"><meta property="og:image:alt" content="Michelangelo Valderrama"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="675"> <meta property="article:publisher" content="https://imangelo.dev/"> <meta property="article:author" content="Michelangelo Valderrama Vivanco"> <meta property="article:tag" content="docker"><meta property="article:tag" content="devcontainers"> <meta property="article:published_time" content="Sun Sep 29 2024 02:00:00 GMT+0200 (Central European Summer Time)"> <meta property="article:modified_time" content="Sun Sep 29 2024 02:00:00 GMT+0200 (Central European Summer Time)"> <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://imangelo.dev/devcontainers/","name":"https://localhost:4321"},"headline":"Sobre los dev containers: Una guía práctica","description":"Aprende cómo los Dev Containers optimizan el desarrollo de proyectos frontend y backend, creando entornos replicables y ahorrando tiempo en configuraciones complejas.","image":["https://localhost:4321/banner.png"],"datePublished":"2024-09-29T00:00:00.000Z","dateModified":"2024-09-29T00:00:00.000Z","author":[{"@type":"Person","name":"Michelangelo Valderrama Vivanco","url":"https://imangelo.dev/"}],"publisher":{"@type":"Organization","name":"Michelangelo Valderrama","logo":{"@type":"ImageObject","url":"https://localhost:4321/banner.png"}}}</script> <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Sobre los dev containers: Una guía práctica","image":["https://localhost:4321/banner.png"],"datePublished":"2024-09-29T00:00:00.000Z","dateModified":"2024-09-29T00:00:00.000Z","author":[{"@type":"Person","name":"Michelangelo Valderrama Vivanco","url":"https://imangelo.dev/"}]}</script> <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://imangelo.dev/devcontainers/","name":"Sobre los dev containers: Una guía práctica"}}]}</script><link rel="stylesheet" href="/_astro/_article_.DBc673nX.css">
<style>h1[data-astro-cid-h4kpgsl2]{margin:0}p[data-astro-cid-h4kpgsl2]{font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-muted-foreground))}
h1[data-astro-cid-h4kpgsl2]{margin:0}p[data-astro-cid-h4kpgsl2]{font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-muted-foreground))}
.quote[data-astro-cid-a2ihmirl]{font-size:1.25rem;line-height:1.75rem;color:hsl(var(--im-foreground) / .8)}.author[data-astro-cid-a2ihmirl]{margin-bottom:0;text-align:right;font-size:.875rem;line-height:1.25rem;color:hsl(var(--im-accent-foreground))}
</style><script type="module">const s=(t,e)=>document.querySelector(t),i=(t,e)=>document.querySelectorAll(t),r=s("#art-wid-dk-cont"),u=s("#end-of-article"),b=new IntersectionObserver(t=>{t.forEach(({isIntersecting:e})=>{r.setAttribute("data-hidden",e+""),r.setAttribute("aria-hidden",e+"")})},{root:null,rootMargin:"0px",threshold:1});b.observe(u);const c=i("h1, h2"),a=i("a[data-toc-link]"),f={root:null,rootMargin:"0px 0px -500px 0px",threshold:1},g=t=>{t.forEach(({isIntersecting:e,target:{id:o}})=>{e&&a.forEach(n=>{const{headingId:d}=n.dataset,l=d===o,h=c[0].id===o;a.item(0).setAttribute("data-hidden",h+""),n.setAttribute("data-active",l+"")})})},v=new IntersectionObserver(g,f);c.forEach(t=>{v.observe(t)});
</script></head> <body class="relative bg-background text-foreground font-sans overflow-x-hidden">   <main class="container min-h-svh pb-24 pt-12 flex flex-col pb-24"> <header> <nav class="flex items-end justify-between mb-12"> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground pb-1 data-[active=&#x27;true&#x27;]:text-accent-foreground data-[active=&#x27;true&#x27;]:border-b-accent-foreground" about="_self" data-active="false" href="/">Inicio</a> <div class="border-b flex-1"></div> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground pb-1 ml-auto text-accent-foreground border-b-accent-foreground" about="_self" href="//devcontainers/">Artículo</a> </nav> </header> <article class="flex-1">  <aside id="art-wid-dk-cont" class="
    fixed
    left-0 right-0 top-32
    hidden lg:block
    pointer-events-none
    transition-opacity duration-base
    data-[hidden=true]:opacity-0
  "> <div class="max-w-screen-2xl mx-auto flex justify-between"> <article class="ml-8 max-w-48"> <ul class="pointer-events-auto"> <li class="mb-3"> <a class="inline-flex items-center justify-center whitespace-nowrap duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100 transition-all duration-base data-[hidden=true]:opacity-0 data-[hidden=true]:pointer-events-none" about="_self" data-toc-link="true" data-heading-id="title" href="#" data-hidden="true">Sobre los dev containers</a> </li> <li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="introducción" href="#introducción">Introducción</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="primer-proyecto-frontend-con-vite" href="#primer-proyecto-frontend-con-vite">Primer proyecto: Frontend con Vite</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="segundo-proyecto-backend-con-node-y-mongo" href="#segundo-proyecto-backend-con-node-y-mongo">Segundo proyecto: Backend con Node y Mongo</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="algunos-casos-específicos" href="#algunos-casos-específicos">Algunos casos específicos</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="despedida" href="#despedida">Despedida</a></li><li><a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer text-muted-foreground border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground border-none text-wrap my-1 sm:my-0.5 sm:text-sm data-[active=true]:text-foreground data-[active=true]:font-medium focus-visible:opacity-100" about="_self" data-toc-link="true" data-heading-id="footnote-label" href="#footnote-label">Notas</a></li> </ul> </article>  </div> </aside>  <header class="mb-6" data-astro-cid-h4kpgsl2> <h1 data-astro-cid-h4kpgsl2>Sobre los dev containers: Una guía práctica</h1> <p data-astro-cid-h4kpgsl2> <time datetime="29 sept 2024" data-astro-cid-h4kpgsl2>29 sept 2024</time> </p>  </header>  <article id="article-content" class="prose mb-16">  <h2 id="introducción">Introducción</h2>
<p>Hace un tiempo empecé a implementar Dev Containers a algunos proyectos. Aunque no soy un experto en Docker (ni en nada, realmente), me gustaría compartir un poco sobre lo que he aprendido.</p>
<p>Los Dev Containers son una tecnología que permiten desarrollar dentro de un contenedor. Sabiendo un poco de Docker, es posible ahorrar mucho tiempo y dolores de cabeza a la hora de tener que trasladar el entorno de trabajo a un nuevo ordenador o a un nuevo miembro del equipo.</p>
<p>Ya sabéis, eso de que hay que instalar x versión de node, que en Windows no funciona (siempre pasa algo en Windows), que hay que instalar x extensiones. En general, todas las variantes de <strong>“en mi máquina funciona”</strong>. Una pérdida de tiempo tremenda. Gracias a los contenedores, ahora podemos crear un entorno y replicarlo cuantas veces queramos sin esfuerzo.</p>
<p>En este artículo, iré poco a poco implementando los Dev Containers a un par de proyectos, y al final os compartiré algunos casos específicos que he tenido, los cuales tal vez os sean útiles :></p>
<p>Para los proyectos, os dejo el repositorio: <a href="https://github.com/michelangelo-valderrama/devcontainers-article" rel="noopener noreferrer">https://github.com/michelangelo-valderrama/devcontainers-article<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>.</p>
<h2 id="primer-proyecto-frontend-con-vite">Primer proyecto: Frontend con Vite</h2>
<p>Fácil, tenemos una web con Vite (por hacer un proyecto rápido, pero podría ser cualquier frontend con Astro, Angular…) y queremos implementar los Dev Containers. No hay ninguna necesidad más que tener un Linux (p. ej. Debian o Ubuntu) con Node, NPM, Git y alguna extensión útil como GitLens o Pretty TypeScript Errors (claro está, en caso de usar TypeScript).</p>
<p>Para implementar los Dev Containers, primero hay que instalar la extensión oficial <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" rel="noopener noreferrer">ms-vscode-remote.remote-containers<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a> y crear el archivo <code>devcontainer.json</code> en el directorio <code>.devcontainer</code>:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.tdcb7.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5c6166">.devcontainer/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">devcontainer.json</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#5c6166">public/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#5c6166">.gitignore</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code=".devcontainer/  devcontainer.jsonpublic/.gitignore"><div></div></button></div></figure></div>
<p>Este será el archivo que buscará la extensión para saber que tenemos un Dev Container y crearlo. Si quisiéramos, podríamos tener más de uno:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5c6166">.devcontainer/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">python-backend/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">devcontainer.json</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">react-frontend/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">    </span></span><span style="--0:#5c6166">devcontainer.json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code=".devcontainer/  python-backend/    devcontainer.json  react-frontend/    devcontainer.json"><div></div></button></div></figure></div>
<p>Ahora hay que configurar la creación del Dev Container en el <code>devcontainer.json</code>. Si gustáis de más detalles podéis leer la referencia oficial: <a href="https://containers.dev/implementors/json_reference/" rel="noopener noreferrer">https://containers.dev/implementors/json_reference/<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>.</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">.devcontainer/devcontainer.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"name"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"vite-example"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"image"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"mcr.microsoft.com/devcontainers/javascript-node:22"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"customizations"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"vscode"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"extensions"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#86B300">"eamodio.gitlens"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"esbenp.prettier-vscode"</span><span style="--0:#5C6166">]</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"settings"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D4">"editor.defaultFormatter"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"esbenp.prettier-vscode"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D4">"editor.formatOnSave"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">true</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">        </span><span style="--0:#55B4D4">"editor.tabSize"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#A37ACC">2</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"forwardPorts"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#A37ACC">5173</span><span style="--0:#5C6166">]</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"postCreateCommand"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"npm i &#x26;&#x26; npm run dev"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">// o yarn/pnpm install, pues la imagen también viene con yarn y pnpm.</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"remoteUser"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"node"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;name&#x22;: &#x22;vite-example&#x22;,  &#x22;image&#x22;: &#x22;mcr.microsoft.com/devcontainers/javascript-node:22&#x22;,  &#x22;customizations&#x22;: {    &#x22;vscode&#x22;: {      &#x22;extensions&#x22;: [&#x22;eamodio.gitlens&#x22;, &#x22;esbenp.prettier-vscode&#x22;],      &#x22;settings&#x22;: {        &#x22;editor.defaultFormatter&#x22;: &#x22;esbenp.prettier-vscode&#x22;,        &#x22;editor.formatOnSave&#x22;: true,        &#x22;editor.tabSize&#x22;: 2      }    }  },  &#x22;forwardPorts&#x22;: [5173],  &#x22;postCreateCommand&#x22;: &#x22;npm i &#x26;&#x26; npm run dev&#x22;,  // o yarn/pnpm install, pues la imagen también viene con yarn y pnpm.  &#x22;remoteUser&#x22;: &#x22;node&#x22;}"><div></div></button></div></figure></div>

































<table><thead><tr><th>Opción</th><th>Descripción</th></tr></thead><tbody><tr><td><code>name</code></td><td>El nombre del Dev Container.</td></tr><tr><td><code>image</code></td><td>El nombre de una imagen de un registro de contenedores.</td></tr><tr><td><code>customization</code></td><td>Configuración de herramientas específicas, en este caso de VS Code.</td></tr><tr><td><code>forwardPorts</code></td><td>Crea una lista de puertos dentro del contenedor disponibles localmente.</td></tr><tr><td><code>postCreateCommand</code></td><td>Un <em>string</em> o lista de comandos que se ejecutan después de crearse el contenedor.</td></tr><tr><td><code>remoteUser</code></td><td>Sobrescribe el usuario que se ejecuta en el contenedor. Por defecto es el de <code>containerUser</code>, que a su vez es por defecto el usuario <code>root</code> o el de la instrucción <code>USER</code> del Dockerfile usado para crear la imagen<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>.</td></tr></tbody></table>
<p>La imagen <code>mcr.microsoft.com/devcontainers/javascript-node:22</code> es oficial de Microsoft y es muy útil para proyectos de Node. Si queréis saber de más imágenes, os dejo el link a un repositorio: <a href="https://github.com/devcontainers/images/tree/main/src" rel="noopener noreferrer">https://github.com/devcontainers/images/tree/main/src<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>.</p>
<div dir="auto" class="callout" style="--callout-color-light: var(--im-callout-info); --callout-color-dark: var(--im-callout-info);"><div class="callout-title"><div class="callout-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner">Información</div></div><div class="callout-content"><p>En mis proyectos con TypeScript, uso la imagen de JavaScript. Como ya mencioné, solo hay que añadir alguna extensión más.</p></div></div>
<p>Una vez hecho esto, al volver a abrir el proyecto aparecerá una alerta abajo a la derecha para re-abrirlo en un contenedor. Pero también se puede mediante el comando <strong><code>Dev Containers: Reopen in Container</code></strong> desde el <strong>Command Palette</strong> (<code>F1</code> o <code>Ctrl + Shift + P</code>).</p>
<div dir="auto" class="callout" style="--callout-color-light: var(--im-callout-info); --callout-color-dark: var(--im-callout-info);"><div class="callout-title"><div class="callout-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner">Información</div></div><div class="callout-content"><p>Cuando cambiéis la configuración del Dev Container, debéis ejecutar el comando <code>Dev Container: Rebuild and Reopen in Container</code>. Y, en el caso de querer borrar algún Dev Container, ejecutar <code>Dev Container: Clean Up Dev Containers...</code></p></div></div>
<p>Después, al abrir la terminal, veréis que tiene una terminal con ZSH y Oh My ZSH (gracias a la imagen de Microsoft), y que se encuentra en el directorio <code>/workspaces/NOMBRE_DEL_DIRECTORIO_DEL_PROYETO</code>.</p>
<p>Ahora se podrá ejecutar <code>npm run dev</code> y, si todo ha ido bien, ver algo así:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">VITE v5.4.2  ready in 123 ms</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">➜  Local:   http://localhost:5173/</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">➜  Network: use --host to expose</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5c6166">  </span></span><span style="--0:#5c6166">➜  press h + enter to show help</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  VITE v5.4.2  ready in 123 ms  ➜  Local:   http://localhost:5173/  ➜  Network: use --host to expose  ➜  press h + enter to show help"><div></div></button></div></figure></div>
<h3 id="problema-con-vite-y-los-dev-containers">Problema con Vite y los dev containers</h3>
<p>Si intentáis acceder a <code>localhost:5173</code>, notaréis que no carga. <a href="https://github.com/vitejs/vite/issues/16522" rel="noopener noreferrer">Esto es un problema un tanto extraño con Vite y los dev <span>containers<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>, pero en principio debería arreglarse añadiendo el argumento <code>--host</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">package.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">//...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"scripts"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"dev"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"vite --host"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"build"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"vite build"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"preview"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"vite preview --host"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">//...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  //...  &#x22;scripts&#x22;: {    &#x22;dev&#x22;: &#x22;vite --host&#x22;,    &#x22;build&#x22;: &#x22;vite build&#x22;,    &#x22;preview&#x22;: &#x22;vite preview --host&#x22;  }  //...}"><div></div></button></div></figure></div>
<p>Si se ejecuta otra vez <code>npm run dev</code> y accedéis a <code>localhost:5173</code> desde el navegador, debería ver la web del proyecto.</p>
<h3 id="partir-de-un-dockerfile">Partir de un Dockerfile</h3>
<p>Si lo que se busca es una imagen más personalizada, se puede partir de la imagen de un Dockerfile:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">.devcontainer/Dockerfile</span></figcaption><pre data-language="dockerfile"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#FA8D3E">FROM</span><span style="--0:#5C6166"> mcr.microsoft.com/devcontainers/javascript-node:22</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#FA8D3E">RUN</span><span style="--0:#5C6166"> apt-get update &#x26;&#x26; apt-get install git-flow -y \</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">&#x26;&#x26; rm -rf /var/lib/apt/lists/*</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="FROM mcr.microsoft.com/devcontainers/javascript-node:22RUN apt-get update &#x26;&#x26; apt-get install git-flow -y \    &#x26;&#x26; rm -rf /var/lib/apt/lists/*"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">.devcontainer/devcontainer.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">// ...</span></div></div><div class="ec-line highlight del"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"image"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"mcr.microsoft.com/devcontainers/javascript-node:22"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"build"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"dockerfile"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Dockerfile"</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">// ...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  // ...  &#x22;image&#x22;: &#x22;mcr.microsoft.com/devcontainers/javascript-node:22&#x22;,  &#x22;build&#x22;: {    &#x22;dockerfile&#x22;: &#x22;Dockerfile&#x22;  }  // ...}"><div></div></button></div></figure></div>
<p>En este Dockerfile, además, instalo Git Flow y elimino la caché para <a href="https://docs.docker.com/build/building/best-practices/#run" rel="noopener noreferrer">optimizar la <span>imagen<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a><sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup>.</p>
<h3 id="git">Git</h3>
<p>No hace falta hacer nada en especial para configurar Git en un Dev Container, por defecto VS Code se encarga y puedes seguir trabajando con normalidad.</p>
<h2 id="segundo-proyecto-backend-con-node-y-mongo">Segundo proyecto: Backend con Node y Mongo</h2>
<p>Cuando se tienen proyectos más complejos que necesitan una base de datos y un servidor, se necesitará a su vez gestionar más contenedores. Pero no hay problema porque los Dev Containers también soportan Docker Compose.</p>
<p>Con respecto al archivo <code>devcontainer.json</code>, solo hay algunas diferencias:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">.devcontainer/devcontainer.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"name"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"node-example"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"dockerComposeFile"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"compose.yml"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic">// (1)</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"service"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"api"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic">// (2)</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"workspaceFolder"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"/workspace"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic">// (3)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"customizations"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"vscode"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"extensions"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#86B300">"mongodb.mongodb-vscode"</span><span style="--0:#5C6166B3">,</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"Postman.postman-for-vscode"</span><span style="--0:#5C6166">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"forwardPorts"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span><span style="--0:#A37ACC">3000</span><span style="--0:#5C6166">]</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"postCreateCommand"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"npm i &#x26;&#x26; npm run dev"</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"remoteUser"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"node"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;name&#x22;: &#x22;node-example&#x22;,  &#x22;dockerComposeFile&#x22;: &#x22;compose.yml&#x22;, // (1)  &#x22;service&#x22;: &#x22;api&#x22;, // (2)  &#x22;workspaceFolder&#x22;: &#x22;/workspace&#x22;, // (3)  &#x22;customizations&#x22;: {    &#x22;vscode&#x22;: {      &#x22;extensions&#x22;: [&#x22;mongodb.mongodb-vscode&#x22;, &#x22;Postman.postman-for-vscode&#x22;]    }  },  &#x22;forwardPorts&#x22;: [3000],  &#x22;postCreateCommand&#x22;: &#x22;npm i &#x26;&#x26; npm run dev&#x22;,  &#x22;remoteUser&#x22;: &#x22;node&#x22;}"><div></div></button></div></figure></div>
<p>(1) En el atributo <code>dockerComposeFile</code>, indicamos la ruta del archivo Docker Compose <code>compose.yml</code> (o <code>docker-compose.yml</code>).</p>
<p>(2) Establecemos el servicio al que debe conectarse el Dev Container.</p>
<p>(3) Cuando se parte de una imagen o un Dockerfile, no hace falta indicar el <code>workspaceFolder</code> porque el Dev Container puede asumirlo. Sin embargo, cuando se usa un archivo Docker Compose, se necesita definir explícitamente.</p>
<p>Y este es el archivo <code>compose.yml</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">.devcontainer/compose.yml</span></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#55B4D4">services</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">api</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">image</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">mcr.microsoft.com/devcontainers/javascript-node:22</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">container_name</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">node-example-api</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">network_mode</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">service:db</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (1)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">volumes</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">..:/workspace:cached</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (2)</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">command</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">/bin/sh -c "while sleep 1000; do :; done"</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (3)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">db</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">image</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">mongo:7</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">container_name</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">node-example-db</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">ports</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">27017:27017</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (4)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">volumes</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">node-example-db-data:/data/db</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (5)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span style="--0:#55B4D4">volumes</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">node-example-db-data</span><span style="--0:#5C6166B3">:</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="services:  api:    image: mcr.microsoft.com/devcontainers/javascript-node:22    container_name: node-example-api    network_mode: service:db # (1)    volumes:      - ..:/workspace:cached # (2)    command: /bin/sh -c &#x22;while sleep 1000; do :; done&#x22; # (3)  db:    image: mongo:7    container_name: node-example-db    ports:      - 27017:27017 # (4)    volumes:      - node-example-db-data:/data/db # (5)volumes:  node-example-db-data:"><div></div></button></div></figure></div>
<p>(1) <code>network_mode</code> enlaza directamente la red del contenedor del <code>api</code> con la del <code>db</code>, esto permite acceder a la base de datos mediante el localhost.</p>
<p>(2) Monta el directorio del proyecto (<code>..</code>, porque este <code>compose.yaml</code> está en el directorio <code>.devcontainer</code>), en el directorio <code>/workspace</code> dentro del contenedor. La flag <code>:cached</code> solo afecta a MacOS y mejora el rendimiento en lecturas pesadas, a coste de alguna inconsistencia temporal entre el host y el contenedor.</p>
<p>(3) Este comando evita que el contenedor se detenga al terminar algún proceso pues es un proceso infinito.</p>
<p>(4) Mapeo el puerto de la base de datos para poder acceder a esta desde el host. No es necesario si se usa la extensión de MongoDB (<code>mongodb.mongodb-vscode</code>, que se instala automáticamente en el contenedor), pero en lo personal prefiero <a href="https://www.mongodb.com/products/tools/compass" rel="noopener noreferrer">Mongo <span>Compass<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. A gustos colores.</p>
<p>(5) Determino un volumen (gestionado por Docker) para persistir la base de datos. También se podría usar un bind mount, pero en este escenario no ofrece ninguna ventaja.</p>
<div dir="auto" class="callout" style="--callout-color-light: var(--im-callout-info); --callout-color-dark: var(--im-callout-info);"><div class="callout-title"><div class="callout-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="callout-title-inner">Información</div></div><div class="callout-content"><p>Si haciendo pruebas os quedan muchos volúmenes o imágenes basura, siempre podéis usar los comandos <code>docker volume prune</code> y <code>docker image prune</code>.</p></div></div>
<h2 id="algunos-casos-específicos">Algunos casos específicos</h2>
<p>Ahora, algunos casos específicos que me han ocurrido y quiero contaros.</p>
<h3 id="acceder-desde-la-ip">Acceder desde la IP</h3>
<p>A veces queremos poder comprobar el funcionamiento de una web desde el móvil, o necesitamos que una aplicación móvil haga peticiones al API en nuestro ordenador durante el desarrollo. En este caso, es mejor borrar <code>network_mode: service:db</code> y mapear el puerto del API:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yml"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#55B4D4">services</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">api</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">image</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">mcr.microsoft.com/devcontainers/javascript-node:22</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">container_name</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">node-example-api</span></div></div><div class="ec-line highlight del"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">network_mode</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">service:db</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">volumes</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">..:/workspace:cached</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">command</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">/bin/sh -c "while sleep 1000; do :; done"</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">ports</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">3000:3000</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">#...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="services:  api:    image: mcr.microsoft.com/devcontainers/javascript-node:22    container_name: node-example-api    network_mode: service:db    volumes:      - ..:/workspace:cached    command: /bin/sh -c &#x22;while sleep 1000; do :; done&#x22;    ports:      - 3000:3000  #..."><div></div></button></div></figure></div>
<h3 id="optimizar-el-node_modules">Optimizar el <code>node_modules</code></h3>
<p>Si el <code>npm i</code> va muy lento, a lo mejor se soluciona <a href="https://code.visualstudio.com/remote/advancedcontainers/improve-performance#_use-a-targeted-named-volume" rel="noopener noreferrer">optimizando el acceso al directorio <code>node_modules</code><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. Esto es porque en MacOs y en Windows, los contenedores se ejecutan en una Máquina Virtual<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup>, lo que hace que los bind mounts no sean tan eficientes. Para solucionar esto solo hay que añadir la configuración pertinente:</p>
<p><strong>Dockerfile o imagen</strong></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#86B300">"mounts"</span><span style="--0:#5C6166">: [</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#86B300">"source=${localWorkspaceFolderBasename}-node_modules,target=${containerWorkspaceFolder}/node_modules,type=volume"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#5C6166">],</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#86B300">"postCreateCommand"</span><span style="--0:#5C6166">: </span><span style="--0:#86B300">"sudo chown node node_modules"</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic">// necesario si no eres root</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="&#x22;mounts&#x22;: [  &#x22;source=${localWorkspaceFolderBasename}-node_modules,target=${containerWorkspaceFolder}/node_modules,type=volume&#x22;],&#x22;postCreateCommand&#x22;: &#x22;sudo chown node node_modules&#x22; // necesario si no eres root"><div></div></button></div></figure></div>
<p><strong>Docker Compose</strong></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#55B4D4">services</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">api</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#787B8099;--0fs:italic"># ...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">volumes</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">..:/workspace:cached</span></div></div><div class="ec-line highlight ins"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">node-example-node_modules:/workspace/node_modules</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic"># ...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="services:  api:    # ...    volumes:      - ..:/workspace:cached      - node-example-node_modules:/workspace/node_modules  # ..."><div></div></button></div></figure></div>
<h3 id="instalar-herramientas">Instalar herramientas</h3>
<p>Si, por ejemplo, necesitas el CLI de AWS, en lugar de intentar configurarlo desde cero, puedes usar una <strong>Feature</strong> y gozarlo:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5C6166">{</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">//...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"features"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">"ghcr.io/devcontainers/features/aws-cli:1"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> {</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">      </span><span style="--0:#55B4D4">"version"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> </span><span style="--0:#86B300">"latest"</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">    </span></span><span style="--0:#5C6166">} </span><span style="--0:#787B8099;--0fs:italic">// (1)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">}</span><span style="--0:#5C6166B3">,</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">"mounts"</span><span style="--0:#5C6166B3">:</span><span style="--0:#5C6166"> [</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">    </span><span style="--0:#86B300">"source=${localEnv:HOME}/.aws,target=/workspace/.aws,type=bind,readonly"</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">  </span></span><span style="--0:#5C6166">] </span><span style="--0:#787B8099;--0fs:italic">// (2)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">//...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#5C6166">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  //...  &#x22;features&#x22;: {    &#x22;ghcr.io/devcontainers/features/aws-cli:1&#x22;: {      &#x22;version&#x22;: &#x22;latest&#x22;    } // (1)  },  &#x22;mounts&#x22;: [    &#x22;source=${localEnv:HOME}/.aws,target=/workspace/.aws,type=bind,readonly&#x22;  ] // (2)  //...}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yml"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#55B4D4">services</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#55B4D4">api</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#55B4D4">environment</span><span style="--0:#5C6166B3">:</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">AWS_CONFIG_FILE=/workspace/.aws/config</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#5C6166">      </span></span><span style="--0:#5C6166">- </span><span style="--0:#86B300">AWS_SHARED_CREDENTIALS_FILE=/workspace/.aws/credentials</span><span style="--0:#5C6166"> </span><span style="--0:#787B8099;--0fs:italic"># (3)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#787B8099;--0fs:italic">#...</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="services:  api:    environment:      - AWS_CONFIG_FILE=/workspace/.aws/config      - AWS_SHARED_CREDENTIALS_FILE=/workspace/.aws/credentials # (3)  #..."><div></div></button></div></figure></div>
<p>(1) Configuro <a href="https://github.com/devcontainers/features/tree/main/src/aws-cli" rel="noopener noreferrer">la feature de AWS <span>CLI<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. Aquí un repositorio con más features: <a href="https://github.com/devcontainers/features" rel="noopener noreferrer">https://github.com/devcontainers/features<span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>.</p>
<p>(2) Configuro un bind mount de la carpeta <code>~/.aws/</code> (con los archivos <code>config</code> y <code>credentials</code>) a la de <code>/workspace/.aws/</code> en el contenedor, para mantener mi configuración y credenciales.</p>
<p>(3) Configuro las variables de entorno de AWS.</p>
<h2 id="despedida">Despedida</h2>
<p>Y esto es todo. Todavía no he usado los Dev Containers en muchos proyectos, pero quería contar algo de lo que he aprendido sobre ellos.</p>
<p>Hace tiempo que no escribo algo técnico, y lo echaba un poco en falta. Todavía no me veo volviendo a escribir un artículo de investigación, matemáticas o física; pero bueno, solo es cuestión de tiempo.</p>
<p>Personalmente, veo los Dev Containers algo muy útil, pero que chupan bastantes recursos del sistema. Creo que lo mejor sería usarlos en monorepos, pero no lo he probado todavía, así que nada.</p>
<p>Espero que este artículo haya sido útil, que te haya animado a probar esta nueva tecnología o que simplemente hayas aprendido algo nuevo, que nunca viene mal.</p>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Notas</h2>
<ol>
<li id="user-content-fn-1">
<p>Por temas de seguridad, <a href="https://code.visualstudio.com/remote/advancedcontainers/add-nonroot-user" rel="noopener noreferrer">es preferente usar un usuario <em>non-root</em> en el <span>contenedor<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>Es posible que vea como otros también usan <code>apt-get clean</code>, pero en este caso es innecesario pues <a href="https://github.com/moby/moby/blob/03e2923e42446dbb830c654d0eec323a0b4ef02a/contrib/mkimage/debootstrap#L82-L105" rel="noopener noreferrer">ya lo hacen las imágenes de Debian y <span>Ubuntu<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3">
<p>Esto debido a que los <code>cgroups</code> y los <code>namespaces</code> solo están disponibles en Linux. Aunque sería posible crear contenedores usando los mecanismos de aislamiento nativos de cada sistema operativo, o por lo menos <a href="https://earthly.dev/blog/macos-native-containers/" rel="noopener noreferrer">hay alguna iniciativa al <span>respecto<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h10v10M7 17 17 7"></path></svg></span></a>. <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </article> <div id="end-of-article"> <aside class="flex items-start mb-8"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let a of e)if(a.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=l;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1acTij" prefix="r8" component-url="/_astro/info-button.v77e7Vc3.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;coverCredits&quot;:[0],&quot;pubDate&quot;:[3,&quot;2024-09-29T00:00:00.000Z&quot;],&quot;lastModDate&quot;:[0],&quot;category&quot;:[0,&quot;tutorial&quot;],&quot;tags&quot;:[1,[[0,&quot;docker&quot;],[0,&quot;devcontainers&quot;]]]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;InfoButton&quot;,&quot;value&quot;:true}" await-children=""><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:r8R0:" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></button><!--astro:end--></astro-island> <astro-island uid="WcFht" prefix="r9" component-url="/_astro/copy-url.Dzye2lEi.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;url&quot;:[0,&quot;https://imangelo.dev/devcontainers/&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;CopyUrlButton&quot;,&quot;value&quot;:true}" await-children=""><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-copied="false" class="
          transition-all duration-base
          data-[copied=&#x27;true&#x27;]:scale-0
          data-[copied=&#x27;true&#x27;]:opacity-0
        "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-copied="false" class="
          absolute
          transition-all duration-base
          scale-0
          opacity-0
          data-[copied=&#x27;true&#x27;]:scale-100
          data-[copied=&#x27;true&#x27;]:opacity-100
        "><path d="M20 6 9 17l-5-5"></path></svg></button><!--astro:end--></astro-island> <astro-island uid="ZUVld2" prefix="r10" component-url="/_astro/share-button.AJUKhckH.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;title&quot;:[0,&quot;123&quot;],&quot;url&quot;:[0,&quot;https://imangelo.dev/devcontainers/&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ShareButton&quot;,&quot;value&quot;:true}" await-children=""><div class="inline-flex"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground size-9 bg-background relative z-10 data-[open=&#x27;true&#x27;]:border data-[open=&#x27;true&#x27;]:rounded-r-none data-[open=&#x27;true&#x27;]:text-muted-foreground"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="
            transition-all duration-base
            data-[open=&#x27;true&#x27;]:scale-0
            data-[open=&#x27;true&#x27;]:opacity-0
          "><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" x2="12" y1="2" y2="15"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="
            absolute
            transition-all duration-base
            scale-0 opacity-0
            data-[open=&#x27;true&#x27;]:scale-100
            data-[open=&#x27;true&#x27;]:opacity-100
          "><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button><div aria-hidden="true" inert="" class="
          rounded-r-md border border-l-0
          h-9
          bg-background-contrast
          transition-all duration-base
          opacity-0
          pointer-events-none
          ml-[-100%]
          data-[open=&#x27;true&#x27;]:animate-im-slide-to-right
          data-[open=&#x27;false&#x27;]:animate-im-slide-to-left
        "><div class="flex size-full"><a tabindex="-1" href="https://www.linkedin.com/sharing/share-offsite?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fdevcontainers%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 11v5"></path><path d="M8 8v.01"></path><path d="M12 16v-5"></path><path d="M16 16v-3a2 2 0 1 0 -4 0"></path><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"></path></svg></button></a><a tabindex="-1" href="https://t.me/share/url?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fdevcontainers%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"></path></svg></button></a><a tabindex="-1" href="https://twitter.com/intent/tweet?text=123&amp;url=https%3A%2F%2Fimangelo.dev%2Fdevcontainers%2F" target="_blank" rel="noopener noreferrer"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-all duration-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-transparent hover:bg-accent hover:text-accent-foreground size-9 rounded-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 4l11.733 16h4.267l-11.733 -16z"></path><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path></svg></button></a></div></div></div><!--astro:end--></astro-island> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="Z17PlTH" component-url="/_astro/like-button.DzkhgXBo.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{&quot;slug&quot;:[0,&quot;devcontainers&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;LikeButton&quot;,&quot;value&quot;:&quot;react&quot;}" await-children=""><div class="animate-pulse rounded-md bg-primary/5 h-9 w-20 ml-auto" slot="fallback"></div><template data-astro-template="fallback"><div class="animate-pulse rounded-md bg-primary/5 h-9 w-20 ml-auto" slot="fallback"></div></template><!--astro:end--></astro-island> </aside> <aside class="mb-12"><h2 class="mb-3">Relacionado</h2><ul><li class="relative last-of-type:border-b-border w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] sm:w-auto sm:left-auto sm:right-auto sm:mx-auto sm:px-0 border-y border-b-transparent hover:border-y-foreground focus-visible:border-y-foreground last-of-type:hover:border-b-foreground last-of-type:focus-visible:border-b-foreground"> <a href="/i18n-astro" class="
      group
      block
      py-2 px-layout-px
      sm:px-0
    "> <p class="flex items-center relative"> <time datetime="Sat Jan 06 2024 01:00:00 GMT+0100 (Central European Standard Time)" class="
          w-14
          text-sm text-muted-foreground
          transition-all duration-base
          group-hover:-translate-x-16
          group-hover:opacity-0
          group-hover:scale-0
          group-focus-visible:-translate-x-16
          group-focus-visible:opacity-0
          group-focus-visible:scale-0
        "> 06 ene </time> <span class="
          flex-1
          px-2
          transition-all duration-base
          group-hover:-translate-x-16
          group-focus-visible:-translate-x-16
        ">Implementando i18n en Astro</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="
          text-foreground
          size-[1em]
          transition-all duration-base
          translate-x-16
          opacity-0
          scale-0
          group-hover:translate-x-0
          group-hover:opacity-100
          group-hover:scale-100
          group-focus-visible:translate-x-0
          group-focus-visible:opacity-100
          group-focus-visible:scale-100
        "><path d="M7 7h10v10"></path><path d="M7 17 17 7"></path></svg> </p> </a> </li></ul></aside> </div>  </article> </main> <footer class="pt-8 pb-12 border-t bg-background-contrast relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]"> <div class="container"> <ul class="mb-14 flex justify-between *:flex *:flex-col *:items-start *:gap-y-2 text-sm"> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/">Inicio</a> </li> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/newsletter">Newsletter</a> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/rss.xml">RSS</a> </li> <li> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="https://portfolio.imangelo.dev/">Portfolio</a> <a class="inline-flex items-center justify-center whitespace-nowrap transition-colors duration-base cursor-pointer border-b hover:text-accent-foreground hover:border-accent-foreground focus-visible:text-accent-foreground focus-visible:border-accent-foreground text-foreground border-b-transparent" about="_self" href="/links">Links</a> </li> </ul> <p class="uppercase flex items-center justify-between text-xs text-muted-foreground"> <span>di mikeˈlandʒelo</span> <span>MD, ES — 2024</span> </p> </div> </footer>  <script>(()=>{var l=(o,t)=>{let i=async()=>{await(await o())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();</script><astro-island uid="2pIGwL" prefix="r12" component-url="/_astro/toaster.DsoaCN1j.js" component-export="default" renderer-url="/_astro/client.DeZSGkx7.js" props="{}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;Toaster&quot;,&quot;value&quot;:true}" await-children=""><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><!--astro:end--></astro-island> </body></html>