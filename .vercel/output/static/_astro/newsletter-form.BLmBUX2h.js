import{j as e,v as p}from"./utils.DpFHxlYG.js";import{r}from"./index.CTjT7uj6.js";import{a as f}from"./_astro_actions.DCLOYqNE.js";import{M as x}from"./index.BSqokZEW.js";import{I as g,B as v}from"./input-inline-add-on.BGF8nUuc.js";import{u as h}from"./use-toast.B49TgFke.js";import"./astro/assets-service.Dt0krELq.js";import"./button.B-jkt4Q9.js";function L(){const{toast:s}=h(),[c,m]=r.useState(!1),[o,i]=r.useState(""),[a,n]=r.useState(null),u=t=>{i(t.target.value),m(p(t.target.value))},d=async t=>{t.preventDefault(),n(!0);try{const{error:l}=await f.newsletterSubscription({email:o});if(l)throw new Error;s({title:"OperaciÃ³n exitosa.",description:"Â¡Gracias por suscribirte! ðŸŽ‰"})}catch{s({variant:"danger",title:"Error inesperado.",description:"Vuelva a intentarlo mÃ¡s tarde."})}finally{n(!1),i("")}};return e.jsxs("form",{className:"mt-6 flex gap-x-2 w-full",onSubmit:d,children:[e.jsx(g,{placeholder:"johndoe@gmail.com",disabled:!!a,className:"flex-1",type:"email",value:o,onChange:u,suffix:e.jsx(x,{})}),e.jsx(v,{disabled:!c||!!a,isLoading:a,children:"Suscribirse"})]})}export{L as default};
