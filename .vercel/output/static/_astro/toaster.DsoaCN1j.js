import{j as n,u as W,S as se,c as j,a as je}from"./utils.DpFHxlYG.js";import{r as s,R as _}from"./index.CTjT7uj6.js";import{r as De}from"./index.DFVfAxIp.js";import{P as A,c as Me,B as Fe,u as Le,a as Oe,b as X,d as P,R as ke,e as Ve,f as Ke,g as $e}from"./index.By2KuX5p.js";import{X as He}from"./index.BSqokZEW.js";import{u as We}from"./use-toast.B49TgFke.js";import"./astro/assets-service.Dt0krELq.js";function Xe(e,t=[]){let o=[];function r(u,d){const m=s.createContext(d),v=o.length;o=[...o,d];function i(w){const{scope:R,children:y,...x}=w,p=R?.[e][v]||m,a=s.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:a,children:y})}function E(w,R){const y=R?.[e][v]||m,x=s.useContext(y);if(x)return x;if(d!==void 0)return d;throw new Error(`\`${w}\` must be used within \`${u}\``)}return i.displayName=u+"Provider",[i,E]}const c=()=>{const u=o.map(d=>s.createContext(d));return function(m){const v=m?.[e]||u;return s.useMemo(()=>({[`__scope${e}`]:{...m,[e]:v}}),[m,v])}};return c.scopeName=e,[r,Ue(c,...t)]}function Ue(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const r=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const d=r.reduce((m,{useScope:v,scopeName:i})=>{const w=v(u)[`__scope${i}`];return{...m,...w}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return o.scopeName=t.scopeName,o}function Be(e){const t=e+"CollectionProvider",[o,r]=Xe(t),[c,u]=o(t,{collectionRef:{current:null},itemMap:new Map}),d=y=>{const{scope:x,children:p}=y,a=_.useRef(null),T=_.useRef(new Map).current;return n.jsx(c,{scope:x,itemMap:T,collectionRef:a,children:p})};d.displayName=t;const m=e+"CollectionSlot",v=_.forwardRef((y,x)=>{const{scope:p,children:a}=y,T=u(m,p),f=W(x,T.collectionRef);return n.jsx(se,{ref:f,children:a})});v.displayName=m;const i=e+"CollectionItemSlot",E="data-radix-collection-item",w=_.forwardRef((y,x)=>{const{scope:p,children:a,...T}=y,f=_.useRef(null),g=W(x,f),h=u(i,p);return _.useEffect(()=>(h.itemMap.set(f,{ref:f,...T}),()=>void h.itemMap.delete(f))),n.jsx(se,{[E]:"",ref:g,children:a})});w.displayName=i;function R(y){const x=u(e+"CollectionConsumer",y);return _.useCallback(()=>{const a=x.collectionRef.current;if(!a)return[];const T=Array.from(a.querySelectorAll(`[${E}]`));return Array.from(x.itemMap.values()).sort((h,C)=>T.indexOf(h.ref.current)-T.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:d,Slot:v,ItemSlot:w},R,r]}var Ye="VisuallyHidden",Q=s.forwardRef((e,t)=>n.jsx(A.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Q.displayName=Ye;var Z="ToastProvider",[ee,qe,ze]=Be("Toast"),[ae,ht]=Me("Toast",[ze]),[Ge,U]=ae(Z),ie=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:d}=e,[m,v]=s.useState(null),[i,E]=s.useState(0),w=s.useRef(!1),R=s.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z}\`. Expected non-empty \`string\`.`),n.jsx(ee.Provider,{scope:t,children:n.jsx(Ge,{scope:t,label:o,duration:r,swipeDirection:c,swipeThreshold:u,toastCount:i,viewport:m,onViewportChange:v,onToastAdd:s.useCallback(()=>E(y=>y+1),[]),onToastRemove:s.useCallback(()=>E(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:R,children:d})})};ie.displayName=Z;var ce="ToastViewport",Je=["F8"],z="toast.viewportPause",G="toast.viewportResume",ue=s.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=Je,label:c="Notifications ({hotkey})",...u}=e,d=U(ce,o),m=qe(o),v=s.useRef(null),i=s.useRef(null),E=s.useRef(null),w=s.useRef(null),R=W(t,w,d.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=d.toastCount>0;s.useEffect(()=>{const a=T=>{r.length!==0&&r.every(g=>T[g]||T.code===g)&&w.current?.focus()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[r]),s.useEffect(()=>{const a=v.current,T=w.current;if(x&&a&&T){const f=()=>{if(!d.isClosePausedRef.current){const b=new CustomEvent(z);T.dispatchEvent(b),d.isClosePausedRef.current=!0}},g=()=>{if(d.isClosePausedRef.current){const b=new CustomEvent(G);T.dispatchEvent(b),d.isClosePausedRef.current=!1}},h=b=>{!a.contains(b.relatedTarget)&&g()},C=()=>{a.contains(document.activeElement)||g()};return a.addEventListener("focusin",f),a.addEventListener("focusout",h),a.addEventListener("pointermove",f),a.addEventListener("pointerleave",C),window.addEventListener("blur",f),window.addEventListener("focus",g),()=>{a.removeEventListener("focusin",f),a.removeEventListener("focusout",h),a.removeEventListener("pointermove",f),a.removeEventListener("pointerleave",C),window.removeEventListener("blur",f),window.removeEventListener("focus",g)}}},[x,d.isClosePausedRef]);const p=s.useCallback(({tabbingDirection:a})=>{const f=m().map(g=>{const h=g.ref.current,C=[h,...dt(h)];return a==="forwards"?C:C.reverse()});return(a==="forwards"?f.reverse():f).flat()},[m]);return s.useEffect(()=>{const a=w.current;if(a){const T=f=>{const g=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!g){const C=document.activeElement,b=f.shiftKey;if(f.target===a&&b){i.current?.focus();return}const M=p({tabbingDirection:b?"backwards":"forwards"}),k=M.findIndex(I=>I===C);q(M.slice(k+1))?f.preventDefault():b?i.current?.focus():E.current?.focus()}};return a.addEventListener("keydown",T),()=>a.removeEventListener("keydown",T)}},[m,p]),n.jsxs(Fe,{ref:v,role:"region","aria-label":c.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(J,{ref:i,onFocusFromOutsideViewport:()=>{const a=p({tabbingDirection:"forwards"});q(a)}}),n.jsx(ee.Slot,{scope:o,children:n.jsx(A.ol,{tabIndex:-1,...u,ref:R})}),x&&n.jsx(J,{ref:E,onFocusFromOutsideViewport:()=>{const a=p({tabbingDirection:"backwards"});q(a)}})]})});ue.displayName=ce;var de="ToastFocusProxy",J=s.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...c}=e,u=U(de,o);return n.jsx(Q,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:d=>{const m=d.relatedTarget;!u.viewport?.contains(m)&&r()}})});J.displayName=de;var B="Toast",Qe="toast.swipeStart",Ze="toast.swipeMove",et="toast.swipeCancel",tt="toast.swipeEnd",le=s.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:c,onOpenChange:u,...d}=e,[m=!0,v]=Le({prop:r,defaultProp:c,onChange:u});return n.jsx(Oe,{present:o||m,children:n.jsx(st,{open:m,...d,ref:t,onClose:()=>v(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x:E,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${E}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x:E,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${E}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),v(!1)})})})});le.displayName=B;var[ot,rt]=ae(B,{onClose(){}}),st=s.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:c,open:u,onClose:d,onEscapeKeyDown:m,onPause:v,onResume:i,onSwipeStart:E,onSwipeMove:w,onSwipeCancel:R,onSwipeEnd:y,...x}=e,p=U(B,o),[a,T]=s.useState(null),f=W(t,l=>T(l)),g=s.useRef(null),h=s.useRef(null),C=c||p.duration,b=s.useRef(0),D=s.useRef(C),O=s.useRef(0),{onToastAdd:M,onToastRemove:k}=p,I=X(()=>{a?.contains(document.activeElement)&&p.viewport?.focus(),d()}),V=s.useCallback(l=>{!l||l===1/0||(window.clearTimeout(O.current),b.current=new Date().getTime(),O.current=window.setTimeout(I,l))},[I]);s.useEffect(()=>{const l=p.viewport;if(l){const S=()=>{V(D.current),i?.()},N=()=>{const F=new Date().getTime()-b.current;D.current=D.current-F,window.clearTimeout(O.current),v?.()};return l.addEventListener(z,N),l.addEventListener(G,S),()=>{l.removeEventListener(z,N),l.removeEventListener(G,S)}}},[p.viewport,C,v,i,V]),s.useEffect(()=>{u&&!p.isClosePausedRef.current&&V(C)},[u,C,p.isClosePausedRef,V]),s.useEffect(()=>(M(),()=>k()),[M,k]);const oe=s.useMemo(()=>a?Te(a):null,[a]);return p.viewport?n.jsxs(n.Fragment,{children:[oe&&n.jsx(nt,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),n.jsx(ot,{scope:o,onClose:I,children:De.createPortal(n.jsx(ee.ItemSlot,{scope:o,children:n.jsx(ke,{asChild:!0,onEscapeKeyDown:P(m,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,l=>{l.key==="Escape"&&(m?.(l.nativeEvent),l.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:P(e.onPointerDown,l=>{l.button===0&&(g.current={x:l.clientX,y:l.clientY})}),onPointerMove:P(e.onPointerMove,l=>{if(!g.current)return;const S=l.clientX-g.current.x,N=l.clientY-g.current.y,F=!!h.current,L=["left","right"].includes(p.swipeDirection),K=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,_e=L?K(0,S):0,Ae=L?0:K(0,N),Y=l.pointerType==="touch"?10:2,$={x:_e,y:Ae},re={originalEvent:l,delta:$};F?(h.current=$,H(Ze,w,re,{discrete:!1})):ne($,p.swipeDirection,Y)?(h.current=$,H(Qe,E,re,{discrete:!1}),l.target.setPointerCapture(l.pointerId)):(Math.abs(S)>Y||Math.abs(N)>Y)&&(g.current=null)}),onPointerUp:P(e.onPointerUp,l=>{const S=h.current,N=l.target;if(N.hasPointerCapture(l.pointerId)&&N.releasePointerCapture(l.pointerId),h.current=null,g.current=null,S){const F=l.currentTarget,L={originalEvent:l,delta:S};ne(S,p.swipeDirection,p.swipeThreshold)?H(tt,y,L,{discrete:!0}):H(et,R,L,{discrete:!0}),F.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),nt=e=>{const{__scopeToast:t,children:o,...r}=e,c=U(B,t),[u,d]=s.useState(!1),[m,v]=s.useState(!1);return ct(()=>d(!0)),s.useEffect(()=>{const i=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(i)},[]),m?null:n.jsx(Ve,{asChild:!0,children:n.jsx(Q,{...r,children:u&&n.jsxs(n.Fragment,{children:[c.label," ",o]})})})},at="ToastTitle",pe=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(A.div,{...r,ref:t})});pe.displayName=at;var it="ToastDescription",fe=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(A.div,{...r,ref:t})});fe.displayName=it;var me="ToastAction",ve=s.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?n.jsx(we,{altText:o,asChild:!0,children:n.jsx(te,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${me}\`. Expected non-empty \`string\`.`),null)});ve.displayName=me;var xe="ToastClose",te=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,c=rt(xe,o);return n.jsx(we,{asChild:!0,children:n.jsx(A.button,{type:"button",...r,ref:t,onClick:P(e.onClick,c.onClose)})})});te.displayName=xe;var we=s.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...c}=e;return n.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...c,ref:t})});function Te(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ut(r)){const c=r.ariaHidden||r.hidden||r.style.display==="none",u=r.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...Te(r))}}),t}function H(e,t,o,{discrete:r}){const c=o.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&c.addEventListener(e,t,{once:!0}),r?$e(c,u):c.dispatchEvent(u)}var ne=(e,t,o=0)=>{const r=Math.abs(e.x),c=Math.abs(e.y),u=r>c;return t==="left"||t==="right"?u&&r>o:!u&&c>o};function ct(e=()=>{}){const t=X(e);Ke(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function ut(e){return e.nodeType===e.ELEMENT_NODE}function dt(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const c=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||c?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function q(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var lt=ie,ge=ue,ye=le,Ee=pe,he=fe,Ce=ve,be=te;const pt=lt,Re=s.forwardRef(({className:e,...t},o)=>n.jsx(ge,{ref:o,className:j(`
        fixed top-0 z-[100]
        flex max-h-screen w-full flex-col-reverse p-4
        sm:bottom-0 sm:right-0 sm:top-auto
        sm:flex-col md:max-w-[420px]
      `,e),...t}));Re.displayName=ge.displayName;const ft=je(`
    group
    pointer-events-auto
    relative
    flex items-center justify-between
    w-full
    space-x-4
    overflow-hidden
    rounded-md border
    p-4 pr-8
    shadow-lg
    transition-all duration-base
    data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]
    data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none
    data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out
    data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full
    data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full
  `,{variants:{variant:{primary:"border bg-background text-foreground",danger:"danger group border-danger bg-danger text-danger-foreground"}},defaultVariants:{variant:"primary"}}),Pe=s.forwardRef(({className:e,variant:t,...o},r)=>n.jsx(ye,{ref:r,className:j(ft({variant:t}),e),...o}));Pe.displayName=ye.displayName;const mt=s.forwardRef(({className:e,...t},o)=>n.jsx(Ce,{ref:o,className:j(`
        inline-flex shrink-0 items-center justify-center
        h-8
        rounded-md border
        bg-transparent
        px-3
        text-sm font-medium
        ring-offset-background
        transition-colors duration-base
        hover:bg-secondary
        focus:outline-none
        focus:ring-2
        focus:ring-ring
        focus:ring-offset-2
        disabled:pointer-events-none
        disabled:opacity-50
        group-[.danger]:border-muted/40
        group-[.danger]:hover:border-danger/30
        group-[.danger]:hover:bg-danger
        group-[.danger]:hover:text-danger-foreground
        group-[.danger]:focus:ring-danger
        group-[.success]:border-muted/40
        group-[.success]:hover:border-success/30
        group-[.success]:hover:bg-success
        group-[.success]:hover:text-success-foreground
        group-[.success]:focus:ring-success
      `,e),...t}));mt.displayName=Ce.displayName;const Se=s.forwardRef(({className:e,...t},o)=>n.jsx(be,{ref:o,className:j(`
        absolute
        right-2 top-2
        rounded-md
        p-1
        bg-transparent
        text-foreground/50
        opacity-0
        transition-opacity duration-base
        hover:text-foreground
        focus:opacity-100
        focus:outline-none
        focus:ring-2
        group-hover:opacity-100
        group-[.danger]:text-danger-foreground/60
        group-[.danger]:hover:text-danger-foreground
        group-[.danger]:focus:ring-danger-foreground/40
        group-[.danger]:focus:ring-offset-danger-foreground/60
        group-[.success]:text-success-foreground/60
        group-[.success]:hover:text-success-foreground
        group-[.success]:focus:ring-success-foreground/40
        group-[.success]:focus:ring-offset-success-foreground/60
      `,e),"toast-close":"",...t,children:n.jsx(He,{className:"size-4"})}));Se.displayName=be.displayName;const Ne=s.forwardRef(({className:e,...t},o)=>n.jsx(Ee,{ref:o,className:j("text-sm font-medium",e),...t}));Ne.displayName=Ee.displayName;const Ie=s.forwardRef(({className:e,...t},o)=>n.jsx(he,{ref:o,className:j("text-sm opacity-90",e),...t}));Ie.displayName=he.displayName;function Ct(){const{toasts:e}=We();return n.jsxs(pt,{children:[e.map(function({id:t,title:o,description:r,action:c,...u}){return n.jsxs(Pe,{...u,children:[n.jsxs("div",{className:"grid gap-1",children:[o&&n.jsx(Ne,{children:o}),r&&n.jsx(Ie,{children:r})]}),c,n.jsx(Se,{})]},t)}),n.jsx(Re,{})]})}export{Ct as default};
